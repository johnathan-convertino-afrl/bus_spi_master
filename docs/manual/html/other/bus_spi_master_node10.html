<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2024 (Released January 1, 2024) -->
<HTML lang="en">
<HEAD>
<TITLE>Waveforms</TITLE>

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2024">

<LINK REL="STYLESHEET" HREF="html.css">

<LINK REL="previous" HREF="bus_spi_master_node9.html">
<LINK REL="next" HREF="bus_spi_master_node11.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="bus_spi_master_node11.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="bus_spi_master_node9.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="bus_spi_master_node9.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html93"
  HREF="bus_spi_master_node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="bus_spi_master_node11.html">Building</A>
<B> Up:</B> <A
 HREF="bus_spi_master_node9.html">Architecture</A>
<B> Previous:</B> <A
 HREF="bus_spi_master_node9.html">Architecture</A>
 &nbsp; <B>  <A ID="tex2html94"
  HREF="bus_spi_master_node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A ID="SECTION00031000000000000000">
Waveforms</A>
</H2>
The idealized simulation waveforms are shown below. The values reflect the results of using the icarus backend with surfer view tools.

<P>
Write slave is the first uP test that looks at writing to a slave device using the SPI master without reading the received data.

<DIV class="CENTER"><A ID="54"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
write slave uP</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 17.52ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img2.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_write_slave_up.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>
Loop test checks for reads and writes on the uP bus.

<DIV class="CENTER"><A ID="58"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
loop test uP</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 20.26ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img3.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_loop_test_up.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>
Next are various interrupt enable tests to see if they respond as they should.

<DIV class="CENTER"><A ID="62"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
read ready interrupt enabled</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 20.26ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img4.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_irrdy_up.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>

<DIV class="CENTER"><A ID="66"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
transmit error interrupt enabled</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 20.26ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img5.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_itoe_up.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>
End of packet is a feature added to the Altera IP core in 2019. It is not present in the linux drivers.
Its functionality is questionable when it comes to being useful. Essentially it allows the device to signal
bits or a irq if a EOP word matches the transmit or receive register contents. It is cleared when those
contents change and are not the EOP.

<DIV class="CENTER"><A ID="70"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
EOP</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 20.26ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img6.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_eop_up.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>
The last two waveforms show the uP to bus adapters in a loopback test. Since it takes two writes to get the SPI slave to
echo a value written two write previous, the read value will be two writes behind.

<DIV class="CENTER"><A ID="74"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
loop test AXI Lite</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 28.05ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img7.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_loop_test_axil.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>

<DIV class="CENTER"><A ID="78"></A>
<TABLE>
<CAPTION class="BOTTOM"><STRONG>Figure:</STRONG>
loop test wishbone standard</CAPTION>
<TR><TD>
<DIV class="CENTER"><IMG
 STYLE="height: 17.55ex; vertical-align: -0.12ex; " SRC="bus_spi_master_img8.svg"
 ALT="\includegraphics[width=\textwidth]{img/diagrams/waveform_loop_test_wishbone_standard.png}">
</DIV></TD></TR>
</TABLE>
</DIV>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="bus_spi_master_node11.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="bus_spi_master_node9.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="bus_spi_master_node9.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A> 
<A ID="tex2html93"
  HREF="bus_spi_master_node1.html">
<IMG WIDTH="65" HEIGHT="24" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A
 HREF="bus_spi_master_node11.html">Building</A>
<B> Up:</B> <A
 HREF="bus_spi_master_node9.html">Architecture</A>
<B> Previous:</B> <A
 HREF="bus_spi_master_node9.html">Architecture</A>
 &nbsp; <B>  <A ID="tex2html94"
  HREF="bus_spi_master_node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
